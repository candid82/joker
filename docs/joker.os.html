<html>
<head>
  <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
  <div class="main">
    <h1>Namespace: joker.os</h1>
    <span class="var-added">v1.0</span>
    <h2>Contents</h2>
    <ul>
      <li>
        <a href="#_summary">Summary</a>
      </li>
      <li>
        <a href="#_index">Index</a>
      </li>
      <li>
        <a href="#_constants">Constants</a>
      </li>
      <li>
        <a href="#_variables">Variables</a>
      </li>
      <li>
        <a href="#_functions">Functions, Macros, and Special Forms</a>
      </li>
    </ul>
    <h2 id="_summary">Summary</h2>
    <p class="var-docstr">Provides a platform-independent interface to operating system functionality.</p>
    <h2 id="_index">Index</h2>
    <ul class="index">
      <li>
  <a href="#args">args</a>
</li>
<li>
  <a href="#chdir">chdir</a>
</li>
<li>
  <a href="#close">close</a>
</li>
<li>
  <a href="#create">create</a>
</li>
<li>
  <a href="#create-temp">create-temp</a>
</li>
<li>
  <a href="#cwd">cwd</a>
</li>
<li>
  <a href="#env">env</a>
</li>
<li>
  <a href="#exec">exec</a>
</li>
<li>
  <a href="#exists?">exists?</a>
</li>
<li>
  <a href="#exit">exit</a>
</li>
<li>
  <a href="#get-env">get-env</a>
</li>
<li>
  <a href="#ls">ls</a>
</li>
<li>
  <a href="#mkdir">mkdir</a>
</li>
<li>
  <a href="#mkdir-temp">mkdir-temp</a>
</li>
<li>
  <a href="#open">open</a>
</li>
<li>
  <a href="#remove">remove</a>
</li>
<li>
  <a href="#remove-all">remove-all</a>
</li>
<li>
  <a href="#set-env">set-env</a>
</li>
<li>
  <a href="#sh">sh</a>
</li>
<li>
  <a href="#sh-from">sh-from</a>
</li>
<li>
  <a href="#stat">stat</a>
</li>
<li>
  <a href="#temp-dir">temp-dir</a>
</li>

    </ul>
    <h2 id="_constants">Constants</h2>
    Constants are variables with <tt>:const true</tt> in their metadata. Joker currently does not recognize them as special; as such, it allows redefining them or their values.
    <ul>
      (None.)
    </ul>
    <h2 id="_variables">Variables</h2>
    <ul>
      (None.)
    </ul>
    <h2 id="_functions">Functions, Macros, and Special Forms</h2>
    <ul>
      <li>
  <h3 id="args">args</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(args)</code></div>
</pre>
  <p class="var-docstr">Returns a sequence of the command line arguments, starting with the program name (normally, joker).</p>
  
</li>
<li>
  <h3 id="chdir">chdir</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(chdir dirname)</code></div>
</pre>
  <p class="var-docstr">Chdir changes the current working directory to the named directory. If there is an error, an exception will be thrown. Returns nil.</p>
  
</li>
<li>
  <h3 id="close">close</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(close f)</code></div>
</pre>
  <p class="var-docstr">Closes the file, rendering it unusable for I/O.</p>
  
</li>
<li>
  <h3 id="create">create</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(create name)</code></div>
</pre>
  <p class="var-docstr">Creates the named file with mode 0666 (before umask), truncating it if it already exists.</p>
  
</li>
<li>
  <h3 id="create-temp">create-temp</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(create-temp dir pattern)</code></div>
</pre>
  <p class="var-docstr">Creates a new temporary file in the directory dir, opens the file for reading and writing,<br>
  and returns the resulting File. The filename is generated by taking pattern and adding a<br>
  random string to the end. If pattern includes a &#34;*&#34;, the random string replaces the last &#34;*&#34;.<br>
  If dir is the empty string, uses the default directory for temporary files (see joker.os/temp-dir).<br>
  Multiple programs calling joker.os/make-temp-file simultaneously will not choose the same file.<br>
  The caller can use (name f) to find the pathname of the file.<br>
  It is the caller&#39;s responsibility to remove the file when no longer needed.</p>
  
</li>
<li>
  <h3 id="cwd">cwd</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(cwd)</code></div>
</pre>
  <p class="var-docstr">Returns a rooted path name corresponding to the current directory. If the current directory can<br>
  be reached via multiple paths (due to symbolic links), cwd may return any one of them.</p>
  
</li>
<li>
  <h3 id="env">env</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(env)</code></div>
</pre>
  <p class="var-docstr">Returns a map representing the environment.</p>
  
</li>
<li>
  <h3 id="exec">exec</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(exec name opts)</code></div>
</pre>
  <p class="var-docstr">Executes the named program with the given arguments. opts is a map with the following keys (all optional):<br>
  :args - vector of arguments (all arguments must be strings),<br>
  :dir - if specified, working directory will be set to this value before executing the program,<br>
  :stdin - if specified, provides stdin for the program. Can be either a string or an IOReader.<br>
  If it&#39;s a string, the string&#39;s content will serve as stdin for the program. IOReader can be, for example,<br>
  *in* (in which case Joker&#39;s stdin will be redirected to the program&#39;s stdin) or the value returned by (joker.os/open).<br>
  :stdout - if specified, must be an IOWriter. It can be, for example, *out* (in which case the program&#39;s stdout will be redirected<br>
  to Joker&#39;s stdout) or the value returned by (joker.os/create).<br>
  :stderr - the same as :stdout, but for stderr.<br>
  Returns a map with the following keys:<br>
  :success - whether or not the execution was successful,<br>
  :err-msg (present iff :success if false) - string capturing error object returned by Go runtime<br>
  :exit - exit code of program (or attempt to execute it),<br>
  :out - string capturing stdout of the program (unless :stdout option was passed)<br>
  :err - string capturing stderr of the program (unless :stderr option was passed).</p>
  
</li>
<li>
  <h3 id="exists?">exists?</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(exists? path)</code></div>
</pre>
  <p class="var-docstr">Returns true if file or directory with the given path exists. Otherwise returns false.</p>
  
</li>
<li>
  <h3 id="exit">exit</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(exit code)</code></div>
<div><code>(exit)</code></div>
</pre>
  <p class="var-docstr">Causes the current program to exit with the given status code (defaults to 0).</p>
  
</li>
<li>
  <h3 id="get-env">get-env</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(get-env key)</code></div>
</pre>
  <p class="var-docstr">Returns the value of the environment variable named by the key or nil if the variable is not present in the environment.</p>
  
</li>
<li>
  <h3 id="ls">ls</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(ls dirname)</code></div>
</pre>
  <p class="var-docstr">Reads the directory named by dirname and returns a list of directory entries sorted by filename.<br>
  Each entry is a map with the following keys:<br>
  :name - name (String)<br>
  :size - size in bytes (Int)<br>
  :mode - mode (Int)<br>
  :dir? - true if the file is a directory (Boolean)<br>
  :modtime - modification time (unix timestamp) (Int)</p>
  
</li>
<li>
  <h3 id="mkdir">mkdir</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(mkdir name perm)</code></div>
</pre>
  <p class="var-docstr">Creates a new directory with the specified name and permission bits.</p>
  
</li>
<li>
  <h3 id="mkdir-temp">mkdir-temp</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(mkdir-temp dir pattern)</code></div>
</pre>
  <p class="var-docstr">Creates a new temporary directory in the directory dir.<br>
  The directory name is generated by taking pattern and applying a random string to the end.<br>
  If pattern includes a &#34;*&#34;, the random string replaces the last &#34;*&#34;.<br>
  Returns the name of the new directory. If dir is the empty string,<br>
  uses the default directory for temporary files (see joker.os/temp-dir).<br>
  Multiple programs calling joker.os/make-temp-dir simultaneously will not choose the same directory.<br>
  It is the caller&#39;s responsibility to remove the directory when no longer needed.</p>
  
</li>
<li>
  <h3 id="open">open</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(open name)</code></div>
</pre>
  <p class="var-docstr">Opens the named file for reading. If successful, the file can be used for reading;<br>
  the associated file descriptor has mode O_RDONLY.</p>
  
</li>
<li>
  <h3 id="remove">remove</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(remove name)</code></div>
</pre>
  <p class="var-docstr">Removes the named file or (empty) directory.</p>
  
</li>
<li>
  <h3 id="remove-all">remove-all</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(remove-all path)</code></div>
</pre>
  <p class="var-docstr">Removes path and any children it contains.<br>
<br>
  It removes everything it can, then panics with the first error (if<br>
  any) it encountered.</p>
  
</li>
<li>
  <h3 id="set-env">set-env</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(set-env key value)</code></div>
</pre>
  <p class="var-docstr">Sets the specified key to the specified value in the environment.</p>
  
</li>
<li>
  <h3 id="sh">sh</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(sh name &amp; arguments)</code></div>
</pre>
  <p class="var-docstr">Executes the named program with the given arguments. Returns a map with the following keys:<br>
      :success - whether or not the execution was successful,<br>
      :err-msg (present iff :success if false) - string capturing error object returned by Go runtime<br>
      :exit - exit code of program (or attempt to execute it),<br>
      :out - string capturing stdout of the program,<br>
      :err - string capturing stderr of the program.</p>
  
</li>
<li>
  <h3 id="sh-from">sh-from</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(sh-from dir name &amp; arguments)</code></div>
</pre>
  <p class="var-docstr">Executes the named program with the given arguments and working directory set to dir.<br>
  Returns a map with the following keys:<br>
      :success - whether or not the execution was successful,<br>
      :err-msg (present iff :success if false) - string capturing error object returned by Go runtime<br>
      :exit - exit code of program (or attempt to execute it),<br>
      :out - string capturing stdout of the program,<br>
      :err - string capturing stderr of the program.</p>
  
</li>
<li>
  <h3 id="stat">stat</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(stat filename)</code></div>
</pre>
  <p class="var-docstr">Returns a map describing the named file. The info map has the following attributes:<br>
  :name - base name of the file<br>
  :size - length in bytes for regular files; system-dependent for others<br>
  :mode - file mode bits<br>
  :modtime - modification time<br>
  :dir? - true if file is a directory</p>
  
</li>
<li>
  <h3 id="temp-dir">temp-dir</h3>
  <span class="var-kind Function">Function</span>
  <span class="var-added">v1.0</span>
  <pre class="var-usage"><div><code>(temp-dir)</code></div>
</pre>
  <p class="var-docstr">Returns the default directory to use for temporary files.<br>
  On Unix systems, it returns $TMPDIR if non-empty, else /tmp.<br>
  On Windows, it uses GetTempPath, returning the first non-empty<br>
  value from %TMP%, %TEMP%, %USERPROFILE%, or the Windows directory.<br>
  The directory is neither guaranteed to exist nor have accessible permissions.</p>
  
</li>

    </ul>
  </div>
</body>
</html>
